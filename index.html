<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Low Orbit Satellite Simulator</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        
    </style>
</head>
<body>
    <div id="panels-container">
    
        <div id="left-panel">
            <button id="toggle-button">‚ò∞</button>
            <div id="sidebar" class="hidden">
                <ul style="list-style-type: none; margin: 0; padding: 0;">
                <li><label for="earth-rotation-speed">Earth Rotation Speed</label></li>
                <li><input class="controls-range" type="range" id="rotation-speed" name="rotation-speed" min="0" max="10000" value="500"></li>

                <li><label for="extra-elevation">Extra Elevation</label></li>
                <li><input class="controls-range" type="range" id="extra-elevation" name="extra-elevation" min="0" max="150" value="50"></li>
                
                <li><label for="sunlight-intensity">Sunlight Intensity</label></li>
                <li><input class="controls-range" type="range" id="sunlight-intensity" name="sunlight-intensity" min="0" max="1800" value="750"></li>            

                <li>
                <label for="show-clouds">Show Clouds</label>
                <input type="checkbox" id="show-clouds" name="show-clouds" checked="true">
                </li>

                <li><label for="clouds-opacity">Clouds Opacity</label></li>
                <li><input class="controls-range" type="range" id="clouds-opacity" name="clouds-opacity" min="0" max="100" value="30"></li>            

                <li><label for="clouds-height">Clouds Height</label></li>
                <li><input class="controls-range" type="range" id="clouds-height" name="clouds-height" min="0" max="60" value="10"></li>            

                <li>
                    <label for="night-lights">Night Lights</label>
                    <input type="checkbox" id="night-lights" name="night-lights" checked="true">
                </li>

                <li>
                    <label for="map-displacement">Map Displacement</label>
                    <input type="checkbox" id="map-displacement" name="map-displacement" aria-checked style="cursor:pointer;"
                    title="Enabling Map Displacement will disable Night Lights">
                </li>

                
                <li>
                    <label for="map-displacement-intensity">Height</label>
                    <input class="map-displacement-intensity" type="range" id="map-displacement-intensity" name="map-displacement-intensity" min="0" max="100" value="30">
                </li>            


                

                <li><label>Current Date Time</label></li>
                <li><label id = "datetime" style="color:rgb(232, 253, 255);"></label></li>

                <li><label for="communication-range">Communication range</label></li>
                <li><input class="controls-range" type="range" id="communication-range" name="communication-range" min="1" max="1000" value="100">
                <label id="communication-range-label">100 KM</label></li>

                <li><label for="simulation-speed">Simulation Speed</label></li>
                <li><input class="controls-range" type="range" id="simulation-speed" name="simulation-speed" min="1" max="1000" value="20">
                <label id="simulation-speed-label">20x</label></li>

                <li><button class="controls-buttton" id="start-simulation">Start Simulation</button></li>
            </div>
           
        </div>

        <div id="divider"></div>

        <div id="right-panel">
            <div id="canvasContainer">
            <canvas id="drawingCanvas"></canvas>
            </div>

            <div id="outputContainer">
       
                    <label>Output:</label>
                    <button id="clearLogs">Clear</button>
                <br>
                <ul id="outputList" style="list-style-type: none; margin: 0; padding: 0;">
                    
                    <!--To add logs here-->
                </ul>
            </div>
        </div>
    </div>

    

    <div id="controls-panel">
        <button id="saveButton" title="Save">üíæ</button>
        <button id="loadButton" title="Import Configuration">‚è¨</button>
        <button id="exportButton" title="Export Configuration">‚è´</button>

        <button id="updateSat" title="Update Satellite">üõ∞Ô∏è</button>
        <div id="satelliteList" class="hidden">
                <ul style="list-style-type: none; margin: 0; padding: 0;">
                    <ul style="list-style-type: none; margin: 0; padding: 0;" id="satList">
                        <!--Ground Station Controls are Added here-->
                    </ul>
                    <li><input type="text" placeholder="name" id="sat-name" style="width: 15%;">
                        <label for="line1" style="color: azure;">TLE:</label>
                        <input type="text" placeholder="line1" id="tle-l1" style="width: 25%;"> 
                        <input type="text" placeholder="line2" id="tle-l2" style="width: 25%;"> 
                        <button id="add-sat" style="width: 10%;">+</button>
                    </li>
                </ul> 
        </div>
        
        <button id="applyCanvas">Update Area</button>
        <button id="clearCanvasArea">Clear Area</button>
        <button id="subdivide">Tessellate</button>

        <button id="updateGroundStations" title="Update Ground Station">üì°</button>
        <div id="GroundStationsList" class="hidden">
                <ul style="list-style-type: none; margin: 0; padding: 0;">
                    <ul style="list-style-type: none; margin: 0; padding: 0;" id="GSList">
                        <!--Ground Station Controls are Added here-->
                    </ul>
                    <li><input type="text" placeholder="name" id="GSName" style="width: 15%;">
                        <input type="number" placeholder="latitude" id="GSlat" style="width: 29%;" max="90" min="-90"> 
                        <input type="number" placeholder="longitude" id="GSlong" style="width: 29%;" max="180" min="-180"> 
                        <button id="addNewGS" style="width: 10%;">+</button>
                    </li>
                </ul> 
        </div>
        
    </div>
   
    <script src="https://unpkg.com/tle.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/satellite.js@5.0.0/dist/satellite.min.js"></script>


    <script type="importmap">
        {
            "imports": {
                "three":   "https://cdn.jsdelivr.net/npm/three/+esm",
                "jsm/": "https://cdn.jsdelivr.net/npm/three/examples/jsm/"
            }
        }
    </script>

    <script type="module" src="app.js"></script>
    <script type="module" src="controls.js"></script>

</body>
</html>
